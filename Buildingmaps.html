<html>
  
<head>
  <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" />
  <script src="https://cdn.maptiler.com/maplibre-gl-js/v1.13.0-rc.4/mapbox-gl.js"></script>
  <link href="https://cdn.maptiler.com/maplibre-gl-js/v1.13.0-rc.4/mapbox-gl.css" rel="stylesheet" />

  <style>
#map {position: absolute; top: 0; right: 0; bottom: 0; left: 0;}      
  </style>

  </head>

  <body> 
    
  <div id="map"></div>
   
<script>
   
      //Appel et configuration de la carte
    
var map = new mapboxgl.Map({
  container: 'map',
  style: 'https://openmaptiles.geo.data.gouv.fr/styles/osm-bright/style.json', //Fond de carte 
  zoom: 15.3, // Zoom
  center: [-1.68, 48.106],  // Centrage carte
  pitch: 60, // Inclinaison carte
  bearing: -50,  // Rotation carte
  minZoom:14.5
    });
    
  // Ajout des donn√©es
      
map.on('load', function () {   
   //BATIMENTS 

map.addSource('Batiments', {
        type: 'geojson',
        data: 'https://raw.githubusercontent.com/mastersigat/data/main/BatiRennes.geojson'
    });
 
map.addLayer({
    'id': 'Batiments',
    'type': 'fill-extrusion',
    'source': 'Batiments',
	'paint': 
	{'fill-extrusion-color': '#A9A9A9', 
        'fill-extrusion-height':{'type': 'identity','property': 'HAUTEUR'},
        'fill-extrusion-color': {
        'property': 'HAUTEUR',
        'stops': [
          [5, '#1a9850'],
          [7, '#91cf60'],
          [9, '#d9ef8b'],
          [12, '#ffffbf'],
      	  [16, '#fee08b'],
	  [20, '#fc8d59'],
          [30, '#d73027']]},
	 'fill-extrusion-opacity': 0.7,
         'fill-extrusion-base': 0}
    });
   

         });
  
  

	
    // Ajout controle de navigation et echelle 
  
map.addControl(new mapboxgl.NavigationControl({position: 'top-left'}));  
  
map.addControl(new mapboxgl.ScaleControl({position: 'bottom-right'}));
  
  
</script>
    
</body>
</html>